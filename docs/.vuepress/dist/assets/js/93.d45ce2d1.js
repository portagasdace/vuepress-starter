(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{449:function(e,t,n){"use strict";n.r(t);var u=n(42),p=Object(u.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"flutter-基础widget-菜单按钮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-基础widget-菜单按钮"}},[e._v("#")]),e._v(" Flutter 基础Widget —— 菜单按钮")]),e._v(" "),n("p",[e._v("本节讲 Flutter 菜单按钮的使用。")]),e._v(" "),n("p",[e._v("菜单按钮的 Widget 是："),n("a",{attrs:{href:"https://docs.flutter.io/flutter/material/PopupMenuButton-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PopupMenuButton"),n("OutboundLink")],1)]),e._v(" "),n("h1",{attrs:{id:"popupmenubutton"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#popupmenubutton"}},[e._v("#")]),e._v(" PopupMenuButton")]),e._v(" "),n("p",[e._v("PopupMenuButton 是一个按钮，当你点击按钮的时候，就会弹出类似 Android 选项菜单的框。")]),e._v(" "),n("h2",{attrs:{id:"代码所在位置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码所在位置"}},[e._v("#")]),e._v(" 代码所在位置")]),e._v(" "),n("p",[e._v("flutter_widget_demo/lib/menu/PopupMenuButtonWidget.dart")]),e._v(" "),n("h2",{attrs:{id:"popupmenubutton-的快速上手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#popupmenubutton-的快速上手"}},[e._v("#")]),e._v(" PopupMenuButton 的快速上手")]),e._v(" "),n("p",[e._v("PopupMenuButton 是点击后会弹出菜单选项的按钮，其 child 参数是用来显示按钮的内容，itemBuilder 参数是用来显示弹出的菜单，onSelected 参数用于处理菜单点击事件：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("PopupMenuButton<MenuItem>(\n    child: Text('更多'),\n    onSelected: (MenuItem result) {\n      print('click '+result.toString());\n    },\n    itemBuilder: (BuildContext context) => <PopupMenuEntry<MenuItem>>[\n      const PopupMenuItem<MenuItem>(\n        value: MenuItem.menuA,\n        child: Text('menu A'),\n      ),\n      const PopupMenuItem<MenuItem>(\n        value: MenuItem.menuB,\n        child: Text('menu B'),\n      ),\n      const PopupMenuItem<MenuItem>(\n        value: MenuItem.menuC,\n        child: Text('menu C'),\n      ),\n      const PopupMenuItem<MenuItem>(\n        value: MenuItem.menuD,\n        child: Text('menu D'),\n      ),\n    ],\n  )\n\n")])])]),n("p",[e._v("PopupMenuButton 在一个页面使用的完整 Demo 如下：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("import 'package:flutter/material.dart';\n\nvoid main() => runApp(PopupMenuButtonWidget());\n\nclass PopupMenuButtonWidget extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: \"Flutter Demo\",\n      theme: ThemeData(\n        primaryColor: Colors.blue,\n      ),\n      home: Scaffold(\n          appBar: AppBar(title: Text(\"Flutter UI基础Widget -- 按钮\")),\n          body: PopupMenuButton<MenuItem>(\n            child: Text('更多'),\n            onSelected: (MenuItem result) {\n              print('click '+result.toString());\n            },\n            itemBuilder: (BuildContext context) => <PopupMenuEntry<MenuItem>>[\n                  const PopupMenuItem<MenuItem>(\n                    value: MenuItem.menuA,\n                    child: Text('menu A'),\n                  ),\n                  const PopupMenuItem<MenuItem>(\n                    value: MenuItem.menuB,\n                    child: Text('menu B'),\n                  ),\n                  const PopupMenuItem<MenuItem>(\n                    value: MenuItem.menuC,\n                    child: Text('menu C'),\n                  ),\n                  const PopupMenuItem<MenuItem>(\n                    value: MenuItem.menuD,\n                    child: Text('menu D'),\n                  ),\n                ],\n          )),\n    );\n  }\n}\n\nenum MenuItem { menuA, menuB, menuC, menuD }\n\n")])])]),n("p",[e._v("运行后有一个更多的按钮，点击这个按钮，会展开菜单：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/3/17/169874d66f279152?w=706&h=500&f=jpeg&s=37083",alt:""}})]),e._v(" "),n("h4",{attrs:{id:"菜单选择"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#菜单选择"}},[e._v("#")]),e._v(" 菜单选择")]),e._v(" "),n("p",[e._v("如何知道选中了哪个菜单呢？")]),e._v(" "),n("p",[e._v("在 onSelected 里会返回选中的菜单：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("onSelected: (MenuItem result) {\n  print('click '+result.toString());\n},\n\n")])])]),n("h2",{attrs:{id:"popupmenubutton-的构造函数及参数说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#popupmenubutton-的构造函数及参数说明"}},[e._v("#")]),e._v(" PopupMenuButton 的构造函数及参数说明")]),e._v(" "),n("p",[e._v("PopupMenuButton 的构造函数为：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("class PopupMenuButton<T> extends StatefulWidget {\n  const PopupMenuButton({\n    Key key,\n    @required this.itemBuilder,\n    this.initialValue,\n    this.onSelected,\n    this.onCanceled,\n    this.tooltip,\n    this.elevation = 8.0,\n    this.padding = const EdgeInsets.all(8.0),\n    this.child,\n    this.icon,\n    this.offset = Offset.zero,\n  }) : assert(itemBuilder != null),\n       assert(offset != null),\n       assert(!(child != null && icon != null)), // fails if passed both parameters\n       super(key: key);\n    ...   \n}\n\n")])])]),n("p",[e._v("参数名字")]),e._v(" "),n("p",[e._v("参数类型")]),e._v(" "),n("p",[e._v("意义")]),e._v(" "),n("p",[e._v("必选 or 可选")]),e._v(" "),n("p",[e._v("key")]),e._v(" "),n("p",[e._v("Key")]),e._v(" "),n("p",[e._v("Widget 的标识")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("itemBuilder")]),e._v(" "),n("p",[e._v("PopupMenuItemBuilder")]),e._v(" "),n("p",[e._v("要显示的菜单")]),e._v(" "),n("p",[e._v("必选")]),e._v(" "),n("p",[e._v("initialValue")]),e._v(" "),n("p",[e._v("T")]),e._v(" "),n("p",[e._v("初始化的菜单项"),n("br"),e._v("\n如果有，在菜单打开时会突出显示。")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("onSelected")]),e._v(" "),n("p",[e._v("PopupMenuItemSelected")]),e._v(" "),n("p",[e._v("当用户从此按钮创建的弹出菜单中选择一个值时调用。")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("onCanceled")]),e._v(" "),n("p",[e._v("PopupMenuItemSelected")]),e._v(" "),n("p",[e._v("当用户在不选择项目的情况下关闭弹出菜单时调用。")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("tooltip")]),e._v(" "),n("p",[e._v("String")]),e._v(" "),n("p",[e._v("当长按时显示的文本，用于盲人辅助模式下")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("elevation")]),e._v(" "),n("p",[e._v("double")]),e._v(" "),n("p",[e._v("Button 相对于其父级放置的z坐标，这可以控制 menu 下的阴影大小"),n("br"),e._v("\n默认值为8.0，该值必须>=0")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("padding")]),e._v(" "),n("p",[e._v("EdgeInsetsGeometry")]),e._v(" "),n("p",[e._v("menu 的内边距")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("child")]),e._v(" "),n("p",[e._v("Widget")]),e._v(" "),n("p",[e._v("这个按钮里显示的内容")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("icon")]),e._v(" "),n("p",[e._v("Icon")]),e._v(" "),n("p",[e._v("这个按钮里显示的 Icon Widget，前面在 图片框和Icon 一节讲过如何使用 Icon Widget")]),e._v(" "),n("p",[e._v("可选")]),e._v(" "),n("p",[e._v("offset")]),e._v(" "),n("p",[e._v("Offset")]),e._v(" "),n("p",[e._v("menu 相对按钮的偏移量")]),e._v(" "),n("p",[e._v("可选")])])}),[],!1,null,null,null);t.default=p.exports}}]);